{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderImages(hits) {\n    return hits.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"152\"/>\n        </a>\n        <div>\n          <ul class=\"info-list\">\n       \t\t  <li>Likes<span>${likes}</span></li>\n\t\t\t\t\t  <li>Views<span>${views}</span></li>\n\t\t\t\t\t\t<li>Comments<span>${comments}</span></li>\n\t\t\t\t\t\t<li>Downloads<span>${downloads}</span></li>\n          </ul>\n        </div>\n      </li>\n    `).join(\"\");\n}","const parameters = {\n    key: \"45047588-af4c5471e93ba8198453341cf\",\n    q: \"\",\n    imageType: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n};\n\nexport function getHttpRequest(formValue) {\n    parameters.q = formValue;\n    const queryString = new URLSearchParams(parameters).toString();\n    return `https://pixabay.com/api/?${queryString}`;\n}\nexport async function fetchImages(httpsRequest) {\n    const response = await fetch(httpsRequest);\n    if (!response.ok) {\n        throw new Error(response.status);\n    }\n    return await response.json();\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { renderImages } from \"./js/render-functions\";\nimport { getHttpRequest, fetchImages } from \"./js/pixabay-api\";\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n    captionDelay: 250,\n    captionPosition: \"bottom\",\n    captionsData: \"alt\"\n});\n\nconst searchPage = {\n    searchForm: document.querySelector(\".search-form\"),\n    gallery: document.querySelector(\".gallery\"),\n    loader: document.querySelector(\".js-loader\"),\n};\n\nsearchPage.searchForm.addEventListener(\"submit\", handlerSubmit);\n\nfunction handlerSubmit(evt) {\n    evt.preventDefault();\n\n    const form = evt.currentTarget;\n    const formValue = form.elements.searchtext.value.toLowerCase().trim();\n    searchPage.gallery.innerHTML = \"\";\n    searchPage.loader.classList.add(\"loader\");\n    fetchImages(getHttpRequest(formValue))\n        .then((data) => {\n            searchPage.loader.classList.remove(\"loader\");\n            const hits = data.hits;\n            if (hits.length === 0) {\n                fetchError();\n            } \n            searchPage.gallery.insertAdjacentHTML(\"beforeend\", renderImages(hits));\n            lightbox.refresh();\n        })\n        .catch(fetchError)\n        .finally(searchPage.searchForm.reset());\n}\n\nconst fetchError = () => {\n    iziToast.error({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n    });\n};"],"names":["renderImages","hits","webformatURL","largeImageURL","tags","likes","views","comments","downloads","parameters","getHttpRequest","formValue","fetchImages","httpsRequest","response","lightbox","SimpleLightbox","searchPage","handlerSubmit","evt","data","fetchError","iziToast"],"mappings":"6vBAAO,SAASA,EAAaC,EAAM,CAC/B,OAAOA,EAAK,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,wCAExDL,CAAa;AAAA,4CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,4BAI1CC,CAAK;AAAA,wBACTC,CAAK;AAAA,0BACHC,CAAQ;AAAA,2BACPC,CAAS;AAAA;AAAA;AAAA;AAAA,KAI/B,EAAE,KAAK,EAAE,CACd,CChBA,MAAMC,EAAa,CACf,IAAK,qCACL,EAAG,GACH,UAAW,QACX,YAAa,aACb,WAAY,EAChB,EAEO,SAASC,EAAeC,EAAW,CACtC,OAAAF,EAAW,EAAIE,EAER,4BADa,IAAI,gBAAgBF,CAAU,EAAE,SAAQ,CACd,EAClD,CACO,eAAeG,EAAYC,EAAc,CAC5C,MAAMC,EAAW,MAAM,MAAMD,CAAY,EACzC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAO,MAAMA,EAAS,MAC1B,CCZA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,IACd,gBAAiB,SACjB,aAAc,KAClB,CAAC,EAEKC,EAAa,CACf,WAAY,SAAS,cAAc,cAAc,EACjD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,YAAY,CAC/C,EAEAA,EAAW,WAAW,iBAAiB,SAAUC,CAAa,EAE9D,SAASA,EAAcC,EAAK,CACxBA,EAAI,eAAc,EAGlB,MAAMR,EADOQ,EAAI,cACM,SAAS,WAAW,MAAM,YAAW,EAAG,OAC/DF,EAAW,QAAQ,UAAY,GAC/BA,EAAW,OAAO,UAAU,IAAI,QAAQ,EACxCL,EAAYF,EAAeC,CAAS,CAAC,EAChC,KAAMS,GAAS,CACZH,EAAW,OAAO,UAAU,OAAO,QAAQ,EAC3C,MAAMhB,EAAOmB,EAAK,KACdnB,EAAK,SAAW,GAChBoB,IAEJJ,EAAW,QAAQ,mBAAmB,YAAajB,EAAaC,CAAI,CAAC,EACrEc,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMM,CAAU,EAChB,QAAQJ,EAAW,WAAW,MAAO,CAAA,CAC9C,CAEA,MAAMI,EAAa,IAAM,CACrBC,EAAS,MAAM,CACX,QAAS,0EACjB,CAAK,CACL"}