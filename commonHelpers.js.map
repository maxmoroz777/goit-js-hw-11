{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderImages(hits) {\n    return hits.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"152\"/>\n        </a>\n        <div>\n          <ul class=\"info-list\">\n       \t\t  <li>Likes<span>${likes}</span></li>\n\t\t\t\t\t  <li>Views<span>${views}</span></li>\n\t\t\t\t\t\t<li>Comments<span>${comments}</span></li>\n\t\t\t\t\t\t<li>Downloads<span>${downloads}</span></li>\n          </ul>\n        </div>\n      </li>\n    `).join(\"\");\n}","const params = {\n    key: \"45047588-af4c5471e93ba8198453341cf\",\n    q: \"\",\n    imageType: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n};\n\nexport function generateHttpsQuery(formValue) {\n    params.q = formValue;\n    const queryString = new URLSearchParams(params).toString();\n    return `https://pixabay.com/api/?${queryString}`;\n}\n\nexport function fetchPictures(httpsQuery) {\n    return fetch(httpsQuery)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { renderImages } from \"./js/render-functions\";\nimport { generateHttpsQuery, fetchPictures } from \"./js/pixabay-api\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionPosition: \"bottom\",\n    captionsData: \"alt\"\n});\n\nconst refs = {\n    searchForm: document.querySelector(\".js-search-form\"),\n    gallery: document.querySelector(\".js-gallery\"),\n    loader: document.querySelector(\".js-loader\"),\n};\n\nrefs.searchForm.addEventListener(\"submit\", handlerSubmit);\n\nfunction handlerSubmit(evt) {\n    evt.preventDefault();\n\n    const form = evt.currentTarget;\n    const formValue = form.elements.searchtext.value.toLowerCase().trim();\n    refs.gallery.innerHTML = \"\";\n    refs.loader.classList.add(\"loader\");\n    fetchPictures(generateHttpsQuery(formValue))\n        .then((data) => {\n            refs.loader.classList.remove(\"loader\");\n            const hits = data.hits;\n            if (hits.length === 0) {\n                fetchError();\n            } \n            refs.gallery.insertAdjacentHTML(\"beforeend\", renderImages(hits));\n            lightbox.refresh();\n        })\n        .catch(fetchError)\n        .finally(refs.searchForm.reset());\n}\n\nfunction fetchError(error) {\n    iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n    });\n}"],"names":["renderImages","hits","webformatURL","largeImageURL","tags","likes","views","comments","downloads","params","generateHttpsQuery","formValue","fetchPictures","httpsQuery","response","lightbox","SimpleLightbox","refs","handlerSubmit","evt","data","fetchError","error","iziToast"],"mappings":"6vBAAO,SAASA,EAAaC,EAAM,CAC/B,OAAOA,EAAK,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,wCAExDL,CAAa;AAAA,4CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,4BAI1CC,CAAK;AAAA,wBACTC,CAAK;AAAA,0BACHC,CAAQ;AAAA,2BACPC,CAAS;AAAA;AAAA;AAAA;AAAA,KAI/B,EAAE,KAAK,EAAE,CACd,CChBA,MAAMC,EAAS,CACX,IAAK,qCACL,EAAG,GACH,UAAW,QACX,YAAa,aACb,WAAY,EAChB,EAEO,SAASC,EAAmBC,EAAW,CAC1C,OAAAF,EAAO,EAAIE,EAEJ,4BADa,IAAI,gBAAgBF,CAAM,EAAE,SAAQ,CACV,EAClD,CAEO,SAASG,EAAcC,EAAY,CACtC,OAAO,MAAMA,CAAU,EAClB,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCfA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,IACd,gBAAiB,SACjB,aAAc,KAClB,CAAC,EAEKC,EAAO,CACT,WAAY,SAAS,cAAc,iBAAiB,EACpD,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,YAAY,CAC/C,EAEAA,EAAK,WAAW,iBAAiB,SAAUC,CAAa,EAExD,SAASA,EAAcC,EAAK,CACxBA,EAAI,eAAc,EAGlB,MAAMR,EADOQ,EAAI,cACM,SAAS,WAAW,MAAM,YAAW,EAAG,OAC/DF,EAAK,QAAQ,UAAY,GACzBA,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCL,EAAcF,EAAmBC,CAAS,CAAC,EACtC,KAAMS,GAAS,CACZH,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrC,MAAMhB,EAAOmB,EAAK,KACdnB,EAAK,SAAW,GAChBoB,IAEJJ,EAAK,QAAQ,mBAAmB,YAAajB,EAAaC,CAAI,CAAC,EAC/Dc,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMM,CAAU,EAChB,QAAQJ,EAAK,WAAW,MAAO,CAAA,CACxC,CAEA,SAASI,EAAWC,EAAO,CACvBC,EAAS,MAAM,CACP,QAAS,0EACrB,CAAK,CACL"}